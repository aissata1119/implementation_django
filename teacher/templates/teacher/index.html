{% load static %}
<!DOCTYPE html>
<html lang="fr">
   <head>
      <meta charset="UTF-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <title>Mon Etab - √âl√®ves</title>
      <link
         href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css"
         rel="stylesheet"
      />
      <script src="{% static 'js/teacher.js' %}" defer></script>
   </head>
   <body class="bg-gray-100 font-sans antialiased">
      <div class="flex min-h-screen">
         <!-- Sidebar -->
         <aside
            class="w-64 bg-gray-800 text-white flex flex-col justify-between"
         >
            <div class="p-6"> 
               <div class="flex items-center justify-center mb-8">
                  <img src="{% static "images/logo.png" %}" alt="logo du site"
                  width="50px" height="50px" class="mr-3" />
                  <h2 class="text-3xl font-semibold">Mon Etab</h2>
               </div>

               <nav>
                  <ul>
                     <li class="mb-4">
                        <a
                           href="{%url 'dashboard:index' %}"
                           class="hover:text-gray-400 flex items-center"
                        >
                           <span class="mr-2">üè†</span> Tableau de bord
                        </a>
                     </li>
                     <li class="mb-4">
                        <a
                           href="{% url 'student:index' %}"
                           class="hover:text-gray-400 flex items-center"
                        >
                           <span class="mr-2">üë•</span> √âl√®ves
                        </a>
                     </li>
                     <li class="mb-4">
                        <a
                           href="{% url 'teacher:index' %}"
                           class="text-blue-400 hover:text-blue-500 flex items-center font-medium"
                        >
                           <span class="mr-2">üë©‚Äçüè´</span> Professeurs
                        </a>
                     </li>
                     <li class="mb-4">
                        <a
                           href="{% url 'users:index' %}"
                           class="hover:text-gray-400 flex items-center"
                        >
                           <span class="mr-2">üë§</span> Utilisateurs
                        </a>
                     </li>
                     <li class="mb-4">
                        <a
                           href="{% url 'users:index' %}"
                           class="hover:text-gray-400 flex items-center"
                        >
                           <span class="mr-2">üìä</span> Rapport
                        </a>
                     </li>
                  </ul>
               </nav>
            </div>
            <div class="p-6">
               <a
                  href="#"
                  class="text-gray-400 hover:text-white flex items-center justify-center"
               >
                  <span class="mr-2">üîì</span> D√©connexion
               </a>
            </div>
         </aside>

         <!-- Main Content -->
         <div class="flex-1 p-6">
            <div class="flex justify-between items-center mb-6">
               <h1 class="text-2xl font-semibold">Professeurs (2)</h1>
               <a
                  href="{% url 'teacher:add' %}"
                  class="flex items-center text-blue-500 hover:text-blue-700"
               >
                  <svg
                     xmlns="http://www.w3.org/2000/svg"
                     class="h-5 w-5 mr-2"
                     fill="none"
                     viewBox="0 0 24 24"
                     stroke="currentColor"
                  >
                     <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M12 4v16m8-8H4"
                     />
                  </svg>
                  Nouveau professeur
               </a>
            </div>
            <div class="bg-white p-6 rounded-lg shadow overflow-auto">
               <table class="min-w-full divide-y divide-gray-200">
                  <thead class="bg-gray-50">
                     <tr>
                        <th
                           class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
                        >
                           Nom
                        </th>
                        <th
                           class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
                        >
                           Pr√©nom
                        </th>
                        <th
                           class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
                        >
                           Genre
                        </th>
                        <th
                           class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
                        >
                           Mati√®re
                        </th>
                        <!-- <th
                           class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
                        >
                           Vacant
                        </th> -->
                        <th
                           class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
                        >
                           √Çge
                        </th>
                        <th
                           class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
                        >
                           T√©l√©phone
                        </th>
                        <th
                           class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
                        >
                           Ville
                        </th>
                        <th
                           class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
                        >
                           Actions
                        </th>
                     </tr>
                  </thead>
                  <tbody class="bg-white divide-y divide-gray-200">
                     {% for teacher in teachers %}
                     <tr>
                        <td class="px-6 py-4 whitespace-nowrap">{{teacher.nom}}</td>
                        <td class="px-6 py-4 whitespace-nowrap">{{teacher.prenoms}}</td>
                        <td class="px-6 py-4 whitespace-nowrap">{{teacher.genre}}</td>
                        <td class="px-6 py-4 whitespace-nowrap">{{teacher.matiere}}</td>
                        <!-- <td class="px-6 py-4 whitespace-nowrap">{{teacher.Vacant}}</td> -->
                        <td class="px-6 py-4 whitespace-nowrap">{{teacher.dateNaissance|date:"d/m/Y"}}</td>

                        <td class="px-6 py-4 whitespace-nowrap">{{teacher.telephone}}</td>
                        <td class="px-6 py-4 whitespace-nowrap">Bonoua</td>
                        <td class="px-6 py-4 whitespace-nowrap">
                           <a
                              href=" {% url 'teacher:update' teacher.id %}"
                              class="bg-yellow-500 hover:bg-yellow-600 text-white font-bold py-1 px-4 rounded"
                           >
                              Modifier
                           </a>

                           <button
                              class="bg-red-500 hover:bg-red-600 text-white font-bold py-1 px-4 rounded ml-2"
                              data-id="{% url 'teacher:delete' teacher.id %}"
                              onclick="openModal()"
                           >
                              Supprimer
                           </button>
                        </td>
                     </tr>
                     {% endfor %}
                     
                  </tbody>
               </table>
            </div>
         </div>
      </div>
      <!-- Modal -->
      <div
         id="deleteModal"
         class="fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full hidden"
      >
         <div
            class="relative top-1/4 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white"
         >
            <div class="mt-3 text-center">
               <h3 class="text-lg leading-6 font-medium text-gray-900">
                  Confirmer la suppression
               </h3>
               <div class="mt-2 px-7 py-3">
                  <p class="text-sm text-gray-500">
                     √ätes-vous s√ªr de vouloir supprimer cet √©l√©ment ? Cette
                     action est irr√©versible.
                  </p>
               </div>
               <div class="items-center px-4 py-3">
                  <button
                     id="confirmDelete"
                     class="bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-4 rounded"
                     onclick="deleteItem()"
                  >
                     Supprimer
                  </button>
                  <button
                     id="cancelDelete"
                     class="bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded ml-2"
                     onclick="closeModal()"
                  >
                     Annuler
                  </button>
               </div>
            </div>
         </div>
      </div>
   </body>
</html>
